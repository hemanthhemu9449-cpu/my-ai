<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>My AI Assistant</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
:root{
  --bg:#0b1020;
  --panel:#0f172a;
  --card:#0b1226;
  --border:#1f2a44;
  --accent:#7c8cff;
  --accent2:#22d3ee;
  --user:#2563eb;
  --ai:#0b1226;
  --text:#e5e7eb;
  --muted:#9aa4b2;
  --radius:14px;
}

*{ box-sizing:border-box; }

body{
  margin:0;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
  background: radial-gradient(1200px 600px at 20% -10%, #1b2350 0%, transparent 40%),
              radial-gradient(800px 400px at 120% 10%, #0b3a4a 0%, transparent 40%),
              var(--bg);
  color:var(--text);
  height:100vh;
  display:flex;
}

/* Sidebar */
#sidebar{
  width:260px;
  background: linear-gradient(180deg, #0a1020 0%, #0b1226 100%);
  border-right:1px solid var(--border);
  display:flex;
  flex-direction:column;
  padding:14px;
  gap:10px;
}

#brand{
  display:flex;
  align-items:center;
  gap:10px;
  padding:10px 12px;
  border-radius:12px;
  background:linear-gradient(135deg, rgba(124,140,255,.15), rgba(34,211,238,.12));
  border:1px solid var(--border);
  font-weight:700;
  letter-spacing:.3px;
}

#newChat{
  margin-top:6px;
  padding:12px;
  border-radius:12px;
  border:1px solid var(--border);
  background: linear-gradient(135deg, var(--accent), var(--accent2));
  color:#020617;
  font-weight:700;
}

#history{
  flex:1;
  overflow-y:auto;
  padding-top:6px;
  display:flex;
  flex-direction:column;
  gap:6px;
}

.historyItem{
  padding:10px 12px;
  border-radius:10px;
  background:var(--card);
  border:1px solid var(--border);
  font-size:14px;
  color:var(--muted);
}

/* Main */
#main{
  flex:1;
  display:flex;
  flex-direction:column;
}

header{
  padding:14px 18px;
  display:flex;
  align-items:center;
  justify-content:space-between;
  background:rgba(11,18,38,.8);
  backdrop-filter: blur(8px);
  border-bottom:1px solid var(--border);
}

header .title{
  font-weight:700;
  letter-spacing:.3px;
}

#chat{
  flex:1;
  overflow-y:auto;
  padding:20px;
  display:flex;
  flex-direction:column;
  gap:12px;
}

/* Messages */
.msg{
  max-width:75%;
  padding:12px 14px;
  border-radius:14px;
  line-height:1.45;
  animation: fade .15s ease;
}

.user{
  align-self:flex-end;
  background: linear-gradient(135deg, #3b82f6, #2563eb);
}

.ai{
  align-self:flex-start;
  background: linear-gradient(180deg, #0b1226, #0a1020);
  border:1px solid var(--border);
}

/* Footer */
footer{
  display:flex;
  gap:10px;
  padding:14px;
  border-top:1px solid var(--border);
  background:rgba(11,18,38,.9);
  backdrop-filter: blur(8px);
}

#input{
  flex:1;
  padding:14px 14px;
  border-radius:12px;
  border:1px solid var(--border);
  background:#050914;
  color:var(--text);
  font-size:16px;
}

#sendBtn{
  padding:14px 18px;
  border-radius:12px;
  border:1px solid var(--border);
  background: linear-gradient(135deg, var(--accent), var(--accent2));
  color:#020617;
  font-weight:800;
}

/* Typing dots */
.typing span{
  display:inline-block;
  width:6px;height:6px;
  margin:0 2px;
  background:#9aa4b2;
  border-radius:50%;
  animation: blink 1.4s infinite both;
}
.typing span:nth-child(2){ animation-delay:.2s; }
.typing span:nth-child(3){ animation-delay:.4s; }

@keyframes blink{ 0%{opacity:.2} 20%{opacity:1} 100%{opacity:.2} }
@keyframes fade{ from{opacity:0; transform:translateY(4px)} to{opacity:1; transform:none} }

@media (max-width:800px){
  #sidebar{ display:none; }
}
</style>
</head>

<body>

<div id="sidebar">
  <div id="brand">âš¡ My AI</div>
  <button id="newChat" onclick="newChat()">+ New Chat</button>
  <div id="history"></div>
</div>

<div id="main">
  <header>
    <div class="title">My AI Assistant</div>
    <div style="color:#9aa4b2;font-size:13px;">Demo</div>
  </header>

  <div id="chat"></div>

  <footer>
    <input id="input" placeholder="Ask anything..." />
    <button id="sendBtn" onclick="send()">Send</button>
  </footer>
</div>

<script>
let chats = JSON.parse(localStorage.getItem("chats") || "[]");
let currentChat = chats.length ? chats.length - 1 : -1;

const chatBox = document.getElementById("chat");
const historyBox = document.getElementById("history");
const input = document.getElementById("input");

input.addEventListener("keydown", e => { if(e.key==="Enter") send(); });

function save(){ localStorage.setItem("chats", JSON.stringify(chats)); }

function renderHistory(){
  historyBox.innerHTML="";
  chats.forEach((c,i)=>{
    const d=document.createElement("div");
    d.className="historyItem";
    d.innerText=c.title||"New Chat";
    d.onclick=()=>loadChat(i);
    historyBox.appendChild(d);
  });
}
function getSmartReply(q){
  q = q.toLowerCase();

  if(q.includes("hello") || q.includes("hi")) {
    return "Hello ðŸ‘‹ How can I help you today?";
  }

  if(q.includes("your name")) {
    return "I am your personal AI assistant.";
  }

  if(q.includes("who made you")) {
    return "I was built by Hemanth using AI tools ðŸ˜Ž";
  }

  if(q.includes("time")) {
    return "Current time is: " + new Date().toLocaleTimeString();
  }

  if(q.includes("date")) {
    return "Today's date is: " + new Date().toDateString();
  }

  if(q.includes("help")) {
    return "You can ask me things like: time, date, who are you, or just chat with me.";
  }

  if(q.includes("sad") || q.includes("depressed")) {
    return "I'm here for you. You are not alone. Things will get better â¤ï¸";
  }

  if(q.includes("thank")) {
    return "You're welcome ðŸ˜Š";
  }

  // Default reply
  const randomReplies = [
    "Interesting ðŸ¤” Tell me more.",
    "I am still learning. Can you explain that?",
    "That sounds cool!",
    "Hmm... let me think about that.",
    "I don't fully understand yet, but I'm improving every day."
  ];

  return randomReplies[Math.floor(Math.random() * randomReplies.length)];
  }
function loadChat(i){
  currentChat=i;
  chatBox.innerHTML="";
  chats[i].messages.forEach(m=>addMsg(m.text,m.type));
}

function newChat(){
  chats.push({title:"New Chat", messages:[]});
  currentChat=chats.length-1;
  chatBox.innerHTML="";
  save(); renderHistory();
}

function addMsg(text,type){
  const div=document.createElement("div");
  div.className="msg "+type;
  div.innerText=text;
  chatBox.appendChild(div);
  chatBox.scrollTop=chatBox.scrollHeight;
}

function addTyping(){
  const div=document.createElement("div");
  div.className="msg ai";
  div.id="typing";
  div.innerHTML='<span class="typing"><span></span><span></span><span></span></span>';
  chatBox.appendChild(div);
  chatBox.scrollTop=chatBox.scrollHeight;
}

function removeTyping(){
  const t=document.getElementById("typing");
  if(t) t.remove();
}

function send(){
  const text=input.value.trim();
  if(!text) return;

  if(currentChat===-1) newChat();

  addMsg(text,"user");
  chats[currentChat].messages.push({text, type:"user"});
  chats[currentChat].title=text.slice(0,24);
  input.value="";

  addTyping();

  setTimeout(()=>{
    removeTyping();
    const reply = getSmartReply(text);
    addMsg(reply,"ai");
    chats[currentChat].messages.push({text:reply, type:"ai"});
    save(); renderHistory();
  }, 900);

  save();
}

renderHistory();
if(currentChat!==-1) loadChat(currentChat);
</script>

</body>
</html>
